<!DOCTYPE html>
<html lang="zxx"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/layouts/defaultLayout}"
      layout:fragment="Content">
<head>
    <!-- Google Tag Manager -->
    <!-- External CSS libraries -->
    <!-- Favicon icon -->
    <!-- Google fonts -->
    <!-- Custom Stylesheet -->
</head>
<body id="top">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PDTWJ3Z"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<div class="page_loader"></div>

<!-- Bg img start -->
<div class="bg-img overview-bgi">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="form-content-box">
                    <!-- Logo -->
                    <a href="index.html">
                        <img src="assets/img/logos/logo.png" class="cm-logo" alt="logo">
                    </a>
                    <!-- details -->
                    <div class="details">
                        <!-- Name -->
                        <h3>이메일 인증</h3>
                        <!-- Form start -->
                            <div class="form-group">
                                <input type="email" class="form-control" id="email" name="email" required placeholder="Email Address">
                            </div>
                            <div class="form-group mb-0">
                                <button type="button" onclick="sendEmail()" class="btn btn-color btn-md btn-block">인증 번호 보내기</button>
                            </div>
                        
                        <br>
                        
                        <form action="authNum" method="GET">
                            <div class="form-group">
                                <input type="text" class="form-control" name="authnum" required placeholder="인증번호">
                            </div>
                            <div class="form-group mb-0">
                                <button type="submit" class="btn btn-color btn-md btn-block">제출</button>
                            </div>
                        </form>
                        <br>
                        <div><p th:text="${error}"></p></div>
                        <!-- Form end -->
                    </div>
                    <!-- Sub Footer -->
                    <div class="sub-footer">
                        <span>Already a member? <a href="login.html">Login here</a></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Bg img end -->

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script>
function sendEmail() {
	axios.post('auth', {}, {
		params : {
			email : document.getElementById("email").value
		}
	})
	 .then(function () {
		 alert("입력하신 이메일로 인증번호를 전송하였습니다.")
	 })
}

</script>

<!-- External JS libraries -->
<!-- Custom JS Script -->

</body>
</html>